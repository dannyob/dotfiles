###
# pequod (macOS) machine-specific configuration
###

# Rye (Python)
source "$HOME/.rye/env"

# History
export HISTFILE=~/.cache/zshhistory
export HISTSIZE=10000
export SAVEHIST=10000
setopt INC_APPEND_HISTORY
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_IGNORE_SPACE
setopt HIST_SAVE_NO_DUPS

###
# Additional PATH entries
###
PATH=$PATH:/Library/TeX/texbin                      # TeX
PATH="/Users/danny/.qlot/bin:$PATH"                 # Qlot (Common Lisp)
PATH="/opt/homebrew/opt/ruby/bin:$PATH"             # Homebrew Ruby
PATH="/opt/homebrew/opt/protobuf@3/bin:$PATH"       # Protobuf
export PATH

###
# Guix VM aliases (Guix running in a VM on this Mac)
###
alias guix="ssh -i $HOME/.guix/ssh-cert/msg_rsa admin@127.0.0.1 -p 9001 'guix'"
alias guix-env='f(){ ssh -X -I $HOME/.guix/ssh-cert/msg_rsa admin@127.0.0.1 -p 9001 /home/admin/.guix-profile/bin/$@;  unset -f f; }; f'
alias guix-app='f(){ ssh -X -i $HOME/.guix/ssh-cert/msg_rsa admin@127.0.0.1 -p 9001 /home/admin/.guix-profile/bin/$@;  unset -f f; }; f'
alias guix-shell="ssh -X -i $HOME/.guix/ssh-cert/msg_rsa admin@127.0.0.1 -p 9001"
